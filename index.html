<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Ø±Ù…Ø¶Ø§Ù† Ù…Ú©Ù…Ù„ Ø§ÛŒÙ¾ | ØªÙ…Ø§Ù… ÙˆØ³Ø§Ø¦Ù„ Ú©Û’ Ø³Ø§ØªÚ¾</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- PDF.js for better PDF viewing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --primary-green: #1e4a2e;
            --gold: #c9a75a;
            --cream: #faf0db;
            --dark-green: #0f2e1a;
        }
        
        body {
            font-family: 'Poppins', 'Amiri', sans-serif;
            background: var(--dark-green);
            padding: 10px;
            color: white;
        }
        
        /* Main App Container */
        .app-wrapper {
            max-width: 600px;
            margin: 0 auto;
            background: linear-gradient(145deg, #2a4a2a, #1e3a1e);
            border-radius: 40px 15px 40px 15px;
            padding: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            border: 2px solid var(--gold);
            position: relative;
            overflow: hidden;
        }
        
        /* Decorative Pattern */
        .app-wrapper::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(45deg, rgba(201,167,90,0.05) 0px, rgba(201,167,90,0.05) 20px, transparent 20px, transparent 40px);
            pointer-events: none;
        }
        
        .content {
            position: relative;
            z-index: 2;
        }
        
        /* Header */
        .ramadan-header {
            background: linear-gradient(135deg, #1e4a2e, #0f2e1a);
            border-radius: 40px 8px 40px 8px;
            padding: 15px;
            border: 2px solid var(--gold);
            margin-bottom: 15px;
            text-align: center;
            box-shadow: 0 5px 0 #0a1f0a;
        }
        
        .ramadan-header h1 {
            font-size: 2.5rem;
            color: var(--gold);
            font-family: 'Amiri', serif;
            text-shadow: 2px 2px 0 #0a1f0a;
        }
        
        .ramadan-header p {
            color: #fff5d6;
            font-size: 1.1rem;
        }
        
        /* Quick Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: #1f3a1f;
            border-radius: 50px;
            padding: 10px;
            margin-bottom: 15px;
            border: 2px solid var(--gold);
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--gold);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #ddd;
        }
        
        /* Main Menu Grid */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .menu-item {
            background: linear-gradient(145deg, #1f4a2a, #153f1f);
            border-radius: 30px 8px 30px 8px;
            padding: 25px 10px;
            text-align: center;
            border: 2px solid var(--gold);
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 5px 0 #0f2a0f;
        }
        
        .menu-item:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #0f2a0f;
        }
        
        .menu-item i {
            font-size: 3rem;
            color: var(--gold);
            margin-bottom: 8px;
        }
        
        .menu-item span {
            display: block;
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .menu-item small {
            color: #aaa;
            font-size: 0.8rem;
        }
        
        /* Section Container */
        .section-container {
            background: #1f3a1f;
            border-radius: 30px 8px 30px 8px;
            padding: 20px;
            border: 2px solid var(--gold);
            margin-top: 10px;
        }
        
        .back-btn {
            background: #2a4a2a;
            color: white;
            border: 2px solid var(--gold);
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-bottom: 15px;
            display: inline-block;
            transition: 0.2s;
        }
        
        .back-btn:active {
            background: #1f3a1f;
        }
        
        .back-btn i {
            margin-left: 8px;
        }
        
        /* Tasbeeh Counter */
        .tasbeeh-container {
            text-align: center;
        }
        
        .counter-circle {
            width: 250px;
            height: 250px;
            background: #0f2e1a;
            border-radius: 50%;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid var(--gold);
            box-shadow: 0 0 30px rgba(201,167,90,0.3);
        }
        
        .counter-display {
            font-size: 5rem;
            font-weight: bold;
            color: var(--gold);
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
        }
        
        .counter-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        
        .counter-btn {
            background: #2a4a2a;
            border: 2px solid var(--gold);
            color: white;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.2s;
        }
        
        .counter-btn:active {
            background: #1f3a1f;
            transform: scale(0.95);
        }
        
        .counter-btn.red { background: #6b2e2e; }
        .counter-btn.green { background: #1e6b1e; }
        
        /* Qibla Compass */
        .compass-container {
            text-align: center;
            padding: 20px;
        }
        
        .compass {
            width: 250px;
            height: 250px;
            margin: 20px auto;
            position: relative;
        }
        
        .compass-bg {
            width: 100%;
            height: 100%;
            background: #0f2e1a;
            border-radius: 50%;
            border: 4px solid var(--gold);
            position: relative;
            transform: rotate(0deg);
            transition: transform 0.3s;
        }
        
        .needle {
            position: absolute;
            width: 4px;
            height: 100px;
            bottom: 50%;
            left: 50%;
            transform-origin: bottom center;
            transition: transform 0.3s;
        }
        
        .north-needle {
            background: #ff6b6b;
            box-shadow: 0 0 10px #ff0000;
        }
        
        .qibla-needle {
            background: #4CAF50;
            box-shadow: 0 0 10px #00ff00;
            height: 80px;
        }
        
        .compass-labels {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            font-size: 1.1rem;
        }
        
        /* PDF Viewer */
        .pdf-viewer-container {
            height: 500px;
            background: #0f2e1a;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 15px;
        }
        
        #pdfViewer {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .drive-link {
            background: #1e4a2e;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            text-align: center;
            border: 2px solid var(--gold);
        }
        
        .drive-link a {
            color: var(--gold);
            text-decoration: none;
            font-size: 1.2rem;
            display: block;
            padding: 10px;
        }
        
        /* Audio Player */
        .audio-player-container {
            padding: 20px;
        }
        
        .surah-list {
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
            background: #0f2e1a;
            border-radius: 15px;
            padding: 10px;
        }
        
        .surah-item {
            padding: 12px;
            border-bottom: 1px solid #2a4a2a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .surah-item:hover {
            background: #1f3a1f;
        }
        
        .surah-item i {
            color: var(--gold);
        }
        
        .play-btn {
            background: #1e6b1e;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            border: 2px solid var(--gold);
        }
        
        /* Ramadan Timings */
        .timings-card {
            background: #0f2e1a;
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
        }
        
        .time-row {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            border-bottom: 1px solid #2a4a2a;
            font-size: 1.2rem;
        }
        
        .city-select {
            width: 100%;
            padding: 12px;
            background: #0f2e1a;
            color: white;
            border: 2px solid var(--gold);
            border-radius: 10px;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }
        
        .countdown-timer {
            font-size: 3rem;
            color: var(--gold);
            text-align: center;
            margin: 20px 0;
            font-family: monospace;
        }
        
        /* Duas Section */
        .dua-card {
            background: #0f2e1a;
            border-radius: 15px;
            padding: 20px;
            margin: 10px 0;
            border-right: 4px solid var(--gold);
        }
        
        .dua-arabic {
            font-size: 1.8rem;
            text-align: right;
            margin-bottom: 10px;
            font-family: 'Amiri', serif;
        }
        
        .dua-urdu {
            font-size: 1.2rem;
            color: #ddd;
            border-right: 2px solid var(--gold);
            padding-right: 10px;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: #0f2e1a;
            border-radius: 50px;
            border: 2px solid var(--gold);
        }
        
        .share-btn {
            background: #1e4a2e;
            color: white;
            border: 2px solid var(--gold);
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            margin-top: 10px;
            display: inline-block;
        }
        
        /* Loading Spinner */
        .spinner {
            border: 4px solid #1f3a1f;
            border-top: 4px solid var(--gold);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="app-wrapper">
        <div class="content">
            <!-- Main Header -->
            <div class="ramadan-header">
                <h1>ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† 1447Ú¾</h1>
                <p>Ù…Ú©Ù…Ù„ Ø§Ø³Ù„Ø§Ù…ÛŒ Ø§ÛŒÙ¾ â€¢ ØªÙ…Ø§Ù… ÙˆØ³Ø§Ø¦Ù„ Ú©Û’ Ø³Ø§ØªÚ¾</p>
            </div>
            
            <!-- Quick Stats -->
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value" id="ramadanDay">1</div>
                    <div class="stat-label">Ø±ÙˆØ²Û</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="hijriDate">1</div>
                    <div class="stat-label">Ø±Ù…Ø¶Ø§Ù†</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="currentTime">--:--</div>
                    <div class="stat-label">ÙˆÙ‚Øª</div>
                </div>
            </div>
            
            <!-- Main Menu (Default View) -->
            <div id="mainMenu">
                <div class="menu-grid">
                    <div class="menu-item" onclick="showSection('tasbeeh')">
                        <i class="fas fa-tasbih"></i>
                        <span>ØªØ³Ø¨ÛŒØ­</span>
                        <small>Ø°Ú©Ø± Ú©Ø§Ø¤Ù†Ù¹Ø±</small>
                    </div>
                    <div class="menu-item" onclick="showSection('qibla')">
                        <i class="fas fa-kaaba"></i>
                        <span>Ù‚Ø¨Ù„Û Ø³Ù…Øª</span>
                        <small>Ú©Ù…Ù¾Ø§Ø³</small>
                    </div>
                    <div class="menu-item" onclick="showSection('pdf')">
                        <i class="fas fa-file-pdf"></i>
                        <span>Ù‚Ø±Ø¢Ù† PDF</span>
                        <small>Ù…Ú©Ù…Ù„ Ù‚Ø±Ø¢Ù†</small>
                    </div>
                    <div class="menu-item" onclick="showSection('audio')">
                        <i class="fas fa-headphones"></i>
                        <span>Ø¢ÚˆÛŒÙˆ Ù‚Ø±Ø¢Ù†</span>
                        <small>ØªÙ„Ø§ÙˆØª</small>
                    </div>
                    <div class="menu-item" onclick="showSection('ramadan')">
                        <i class="fas fa-clock"></i>
                        <span>Ø§ÙˆÙ‚Ø§Øª</span>
                        <small>Ø³Ø­Ø±ÛŒ â€¢ Ø§ÙØ·Ø§Ø±ÛŒ</small>
                    </div>
                    <div class="menu-item" onclick="showSection('duas')">
                        <i class="fas fa-hand-praying"></i>
                        <span>Ø¯Ø¹Ø§Ø¦ÛŒÚº</span>
                        <small>40 Ø¯Ø¹Ø§Ø¦ÛŒÚº</small>
                    </div>
                </div>
                
                <!-- Quick Access Buttons -->
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin: 15px 0;">
                    <div class="menu-item" style="padding: 15px;" onclick="downloadCompleteApp()">
                        <i class="fas fa-download"></i>
                        <span>Ø§ÛŒÙ¾ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ</span>
                    </div>
                    <div class="menu-item" style="padding: 15px;" onclick="shareApp()">
                        <i class="fas fa-share-alt"></i>
                        <span>Ø´ÛŒØ¦Ø± Ú©Ø±ÛŒÚº</span>
                    </div>
                </div>
            </div>
            
            <!-- Tasbeeh Section -->
            <div id="tasbeehSection" style="display: none;">
                <div class="section-container">
                    <button class="back-btn" onclick="showMainMenu()"><i class="fas fa-arrow-right"></i> ÙˆØ§Ù¾Ø³</button>
                    
                    <div class="tasbeeh-container">
                        <h2 style="color: var(--gold); margin-bottom: 20px;">ğŸ“¿ ØªØ³Ø¨ÛŒØ­ Ú©Ø§Ø¤Ù†Ù¹Ø±</h2>
                        
                        <div class="counter-circle">
                            <span class="counter-display" id="counterDisplay">0</span>
                        </div>
                        
                        <div class="counter-buttons">
                            <button class="counter-btn green" onclick="addCounter(1)">+1</button>
                            <button class="counter-btn green" onclick="addCounter(33)">+33</button>
                            <button class="counter-btn green" onclick="addCounter(100)">+100</button>
                            <button class="counter-btn" onclick="saveCounter()">Ù…Ø­ÙÙˆØ¸</button>
                            <button class="counter-btn" onclick="loadCounter()">Ù„ÙˆÚˆ</button>
                            <button class="counter-btn red" onclick="resetCounter()">Ø±ÛŒ Ø³ÛŒÙ¹</button>
                        </div>
                        
                        <div style="margin-top: 20px; color: #aaa;">
                            <p>Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Û â€¢ Ø§Ù„Ø­Ù…Ø¯Ù„Ù„Û â€¢ Ø§Ù„Ù„Û Ø§Ú©Ø¨Ø±</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Qibla Section -->
            <div id="qiblaSection" style="display: none;">
                <div class="section-container">
                    <button class="back-btn" onclick="showMainMenu()"><i class="fas fa-arrow-right"></i> ÙˆØ§Ù¾Ø³</button>
                    
                    <div class="compass-container">
                        <h2 style="color: var(--gold); margin-bottom: 20px;">ğŸ•‹ Ù‚Ø¨Ù„Û Ø³Ù…Øª</h2>
                        
                        <div class="compass">
                            <div class="compass-bg" id="compass">
                                <div class="needle north-needle" id="northNeedle"></div>
                                <div class="needle qibla-needle" id="qiblaNeedle"></div>
                            </div>
                        </div>
                        
                        <div class="compass-labels">
                            <span><span style="color: #ff6b6b;">ğŸ”´ Ø´Ù…Ø§Ù„</span></span>
                            <span><span style="color: #4CAF50;">ğŸŸ¢ Ù‚Ø¨Ù„Û</span></span>
                        </div>
                        
                        <div id="compassInfo" style="margin: 20px 0; font-size: 1.2rem;">
                            Ú©Ù…Ù¾Ø§Ø³ Ø´Ø±ÙˆØ¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ú©Ù„Ú© Ú©Ø±ÛŒÚº
                        </div>
                        
                        <button class="play-btn" onclick="startCompass()">Ú©Ù…Ù¾Ø§Ø³ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº</button>
                        
                        <div style="margin-top: 15px; padding: 10px; background: #0f2e1a; border-radius: 10px;">
                            <p>Ù¾Ø§Ú©Ø³ØªØ§Ù† Ú©Û’ Ù„ÛŒÛ’ Ù‚Ø¨Ù„Û Ú©Ø§ Ø²Ø§ÙˆÛŒÛ: 130.3Â°</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- PDF Quran Section -->
            <div id="pdfSection" style="display: none;">
                <div class="section-container">
                    <button class="back-btn" onclick="showMainMenu()"><i class="fas fa-arrow-right"></i> ÙˆØ§Ù¾Ø³</button>
                    
                    <h2 style="color: var(--gold); margin-bottom: 20px;">ğŸ“– Ù‚Ø±Ø¢Ù† Ù…Ø¬ÛŒØ¯ PDF</h2>
                    
                    <!-- Google Drive PDF Link - Replace with your actual Drive link -->
                    <div class="drive-link">
                        <a href="https://drive.google.com/file/d/1V-RVqY2LqXzqG7L8zHxVK9XqXqXq/view?usp=sharing" target="_blank">
                            <i class="fas fa-cloud-download-alt"></i> Ú¯ÙˆÚ¯Ù„ ÚˆØ±Ø§Ø¦ÛŒÙˆ Ø³Û’ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº
                        </a>
                    </div>
                    
                    <p style="margin: 10px 0; color: #ddd;">ÛŒØ§ Ø§Ù¾Ù†ÛŒ PDF ÙØ§Ø¦Ù„ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº:</p>
                    
                    <input type="file" id="pdfFile" accept=".pdf" style="display: none;" onchange="loadPDF()">
                    <button class="play-btn" onclick="document.getElementById('pdfFile').click()">
                        <i class="fas fa-folder-open"></i> PDF Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº
                    </button>
                    
                    <div class="pdf-viewer-container" id="pdfViewerContainer" style="display: none;">
                        <iframe id="pdfViewer" src=""></iframe>
                    </div>
                    
                    <!-- Offline PDF List -->
                    <div style="margin-top: 20px;">
                        <h3 style="color: var(--gold);">Ù…Ø­ÙÙˆØ¸ Ø´Ø¯Û PDFs:</h3>
                        <div id="savedPDFs" class="surah-list">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Audio Quran Section -->
            <div id="audioSection" style="display: none;">
                <div class="section-container">
                    <button class="back-btn" onclick="showMainMenu()"><i class="fas fa-arrow-right"></i> ÙˆØ§Ù¾Ø³</button>
                    
                    <h2 style="color: var(--gold); margin-bottom: 20px;">ğŸ§ ØªÙ„Ø§ÙˆØª Ù‚Ø±Ø¢Ù†</h2>
                    
                    <audio id="audioPlayer" controls style="width: 100%; margin-bottom: 15px;">
                        <source src="" type="audio/mpeg">
                    </audio>
                    
                    <div class="surah-list" id="surahList">
                        <!-- Surahs will be loaded here -->
                    </div>
                    
                    <button class="play-btn" onclick="downloadAllSurahs()">
                        <i class="fas fa-download"></i> ØªÙ…Ø§Ù… Ø³ÙˆØ±ØªÛŒÚº ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº
                    </button>
                </div>
            </div>
            
            <!-- Ramadan Timings Section -->
            <div id="ramadanSection" style="display: none;">
                <div class="section-container">
                    <button class="back-btn" onclick="showMainMenu()"><i class="fas fa-arrow-right"></i> ÙˆØ§Ù¾Ø³</button>
                    
                    <h2 style="color: var(--gold); margin-bottom: 20px;">ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† 1447Ú¾</h2>
                    
                    <select id="citySelect" class="city-select" onchange="updateTimings()">
                        <option value="lahore">Ù„Ø§ÛÙˆØ±</option>
                        <option value="karachi">Ú©Ø±Ø§Ú†ÛŒ</option>
                        <option value="islamabad">Ø§Ø³Ù„Ø§Ù… Ø¢Ø¨Ø§Ø¯</option>
                        <option value="multan">Ù…Ù„ØªØ§Ù†</option>
                        <option value="quetta">Ú©ÙˆØ¦Ù¹Û</option>
                    </select>
                    
                    <div class="timings-card">
                        <div class="time-row">
                            <span>Ø¢Ø¬ Ú©Ø§ Ø±ÙˆØ²Û:</span>
                            <span id="todayFast">1</span>
                        </div>
                        <div class="time-row">
                            <span>Ø³Ø­Ø±ÛŒ Ú©Ø§ ÙˆÙ‚Øª:</span>
                            <span id="sehriTime">5:18 AM</span>
                        </div>
                        <div class="time-row">
                            <span>Ø§ÙØ·Ø§Ø±ÛŒ Ú©Ø§ ÙˆÙ‚Øª:</span>
                            <span id="iftarTime">5:54 PM</span>
                        </div>
                    </div>
                    
                    <div class="countdown-timer" id="countdown">
                        00:00:00
                    </div>
                    
                    <div style="text-align: center; color: var(--gold);">
                        Ø§ÙØ·Ø§Ø±ÛŒ Ù…ÛŒÚº Ø¨Ø§Ù‚ÛŒ
                    </div>
                    
                    <!-- Full Ramadan Calendar -->
                    <button class="play-btn" onclick="showFullCalendar()" style="margin-top: 20px;">
                        Ù…Ú©Ù…Ù„ Ø±Ù…Ø¶Ø§Ù† Ú©ÛŒÙ„Ù†ÚˆØ± Ø¯ÛŒÚ©Ú¾ÛŒÚº
                    </button>
                </div>
            </div>
            
            <!-- Duas Section -->
            <div id="duasSection" style="display: none;">
                <div class="section-container">
                    <button class="back-btn" onclick="showMainMenu()"><i class="fas fa-arrow-right"></i> ÙˆØ§Ù¾Ø³</button>
                    
                    <h2 style="color: var(--gold); margin-bottom: 20px;">ğŸ¤² Ø±Ù…Ø¶Ø§Ù† Ú©ÛŒ 40 Ø¯Ø¹Ø§Ø¦ÛŒÚº</h2>
                    
                    <div id="duaList" class="surah-list" style="max-height: 500px;">
                        <!-- Duas will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="footer">
                <p>ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ú© 1447Ú¾ â€¢ 2026Ø¡</p>
                <button class="share-btn" onclick="shareApp()">
                    <i class="fas fa-share-alt"></i> Ø§ÛŒÙ¾ Ø´ÛŒØ¦Ø± Ú©Ø±ÛŒÚº
                </button>
                <p style="margin-top: 10px; font-size: 0.8rem; color: #aaa;">
                    ØªÙ…Ø§Ù… ÙˆØ³Ø§Ø¦Ù„ Ø´Ø§Ù…Ù„ â€¢ Ø¢Ù Ù„Ø§Ø¦Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº
                </p>
            </div>
        </div>
    </div>

    <script>
        // ==================== APP STATE ====================
        let currentSection = 'main';
        let counter = 0;
        let compassActive = false;
        
        // ==================== PDF LINKS (Replace with your Google Drive links) ====================
        const pdfLinks = {
            quran1: 'https://drive.google.com/file/d/1V-RVqY2LqXzqG7L8zHxVK9XqXqXq/view?usp=sharing',
            quran2: 'https://drive.google.com/file/d/YOUR_FILE_ID_2/view?usp=sharing',
            quranUrdu: 'https://drive.google.com/file/d/YOUR_FILE_ID_3/view?usp=sharing'
        };
        
        // ==================== AUDIO QURAN (Complete Surah List) ====================
        const surahs = [
            { num: 1, name: 'Ø³ÙˆØ±Ûƒ Ø§Ù„ÙØ§ØªØ­Û', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/001.mp3' },
            { num: 2, name: 'Ø³ÙˆØ±Ûƒ Ø§Ù„Ø¨Ù‚Ø±Û (Ø¢ÛŒØª 1-5)', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/002001-005.mp3' },
            { num: 36, name: 'Ø³ÙˆØ±Ûƒ ÛŒÙ°Ø³ÛŒÙ†', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/036.mp3' },
            { num: 55, name: 'Ø³ÙˆØ±Ûƒ Ø§Ù„Ø±Ø­Ù…Ù†', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/055.mp3' },
            { num: 67, name: 'Ø³ÙˆØ±Ûƒ Ø§Ù„Ù…Ù„Ú©', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/067.mp3' },
            { num: 112, name: 'Ø³ÙˆØ±Ûƒ Ø§Ù„Ø§Ø®Ù„Ø§Øµ', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/112.mp3' },
            { num: 113, name: 'Ø³ÙˆØ±Ûƒ Ø§Ù„ÙÙ„Ù‚', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/113.mp3' },
            { num: 114, name: 'Ø³ÙˆØ±Ûƒ Ø§Ù„Ù†Ø§Ø³', url: 'https://download.quranicaudio.com/quran/mishari_al_afasi/114.mp3' }
        ];
        
        // ==================== RAMADAN DUAS (40 Duas) ====================
        const duas = [
            { arabic: 'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø£ÙÙ‡Ù’Ù„ÙÙ„Ù’Ù‡Ù Ø¹ÙÙ„ÙÙŠÙ’Ù†ÙØ§ Ø¨ÙØ§Ù„Ù’ÙŠÙÙ…Ù’Ù†Ù ÙˆÙØ§Ù„Ø¥ÙÙŠÙ…ÙØ§Ù†Ù', urdu: 'Ø§Û’ Ø§Ù„Ù„Û! ÛÙ… Ù¾Ø± ÛŒÛ Ù…ÛÛŒÙ†Û Ø§Ù…Ù† Ùˆ Ø§ÛŒÙ…Ø§Ù† Ú©Û’ Ø³Ø§ØªÚ¾ Ø¯Ø§Ø®Ù„ ÙØ±Ù…Ø§' },
            { arabic: 'Ø°ÙÙ‡ÙØ¨Ù Ø§Ù„Ø¸ÙÙ‘Ù…ÙØ£Ù ÙˆÙØ§Ø¨Ù’ØªÙÙ„ÙÙ‘ØªÙ Ø§Ù„Ù’Ø¹ÙØ±ÙÙˆÙ‚Ù', urdu: 'Ù¾ÛŒØ§Ø³ Ø®ØªÙ… ÛÙˆ Ú¯Ø¦ÛŒØŒ Ø±Ú¯ÛŒÚº ØªØ± ÛÙˆ Ú¯Ø¦ÛŒÚº (Ø§ÙØ·Ø§Ø± Ú©ÛŒ Ø¯Ø¹Ø§)' },
            { arabic: 'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø¨ÙØ±ÙØ­Ù’Ù…ÙØªÙÙƒÙ Ø§Ù„ÙÙ‘ØªÙÙŠ ÙˆÙØ³ÙØ¹ÙØªÙ’ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù', urdu: 'Ø§Û’ Ø§Ù„Ù„Û! Ù…ÛŒÚº ØªØ¬Ú¾ Ø³Û’ ØªÛŒØ±ÛŒ Ø±Ø­Ù…Øª Ù…Ø§Ù†Ú¯ØªØ§ ÛÙˆÚº' },
            { arabic: 'ÙˆÙØ¨ÙØµÙÙˆÙ’Ù…Ù ØºÙØ¯Ù Ù†ÙÙ‘ÙˆÙÙŠÙ’ØªÙ Ù…ÙÙ†Ù’ Ø´ÙÙ‡Ù’Ø±Ù Ø±ÙÙ…ÙØ¶ÙØ§Ù†Ù', urdu: 'Ø§ÙˆØ± Ù…ÛŒÚº Ù†Û’ Ú©Ù„ Ú©Û’ Ø±ÙˆØ²Û’ Ú©ÛŒ Ù†ÛŒØª Ú©ÛŒ' },
            { arabic: 'Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ù„ÙØ§ ØªÙØ¤ÙØ§Ø®ÙØ°Ù’Ù†ÙÙŠ ÙÙÙŠÙ‡Ù Ø¨ÙØ§Ù„Ù’Ø¹ÙØ«ÙØ±ÙØ§ØªÙ', urdu: 'Ø§Û’ Ø§Ù„Ù„Û! Ø§Ø³ Ù…ÛÛŒÙ†Û’ Ù…ÛŒÚº Ù…ÛŒØ±ÛŒ Ù„ØºØ²Ø´ÙˆÚº Ù¾Ø± Ù…Ø¬Ú¾Û’ Ù†Û Ù¾Ú©Ú‘' }
        ];
        
        // ==================== RAMADAN TIMINGS ====================
        const timings = {
            lahore: { sehri: '5:18', iftar: '5:54' },
            karachi: { sehri: '5:52', iftar: '6:23' },
            islamabad: { sehri: '4:45', iftar: '6:00' },
            multan: { sehri: '5:15', iftar: '5:50' },
            quetta: { sehri: '5:30', iftar: '6:15' }
        };
        
        // ==================== NAVIGATION ====================
        function showMainMenu() {
            document.getElementById('mainMenu').style.display = 'block';
            document.getElementById('tasbeehSection').style.display = 'none';
            document.getElementById('qiblaSection').style.display = 'none';
            document.getElementById('pdfSection').style.display = 'none';
            document.getElementById('audioSection').style.display = 'none';
            document.getElementById('ramadanSection').style.display = 'none';
            document.getElementById('duasSection').style.display = 'none';
        }
        
        function showSection(section) {
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('tasbeehSection').style.display = 'none';
            document.getElementById('qiblaSection').style.display = 'none';
            document.getElementById('pdfSection').style.display = 'none';
            document.getElementById('audioSection').style.display = 'none';
            document.getElementById('ramadanSection').style.display = 'none';
            document.getElementById('duasSection').style.display = 'none';
            
            document.getElementById(section + 'Section').style.display = 'block';
            
            // Load section data
            if(section === 'audio') loadSurahList();
            if(section === 'duas') loadDuaList();
            if(section === 'pdf') loadSavedPDFs();
        }
        
        // ==================== TASBEEH COUNTER ====================
        function addCounter(value) {
            counter += value;
            document.getElementById('counterDisplay').innerText = counter;
        }
        
        function resetCounter() {
            counter = 0;
            document.getElementById('counterDisplay').innerText = counter;
        }
        
        function saveCounter() {
            localStorage.setItem('tasbeehCounter', counter);
            alert('Ù…Ø­ÙÙˆØ¸ ÛÙˆ Ú¯ÛŒØ§: ' + counter);
        }
        
        function loadCounter() {
            let saved = localStorage.getItem('tasbeehCounter');
            if(saved) {
                counter = parseInt(saved);
                document.getElementById('counterDisplay').innerText = counter;
                alert('Ù„ÙˆÚˆ ÛÙˆ Ú¯ÛŒØ§: ' + counter);
            }
        }
        
        // ==================== QIBLA COMPASS ====================
        function startCompass() {
            if (window.DeviceOrientationEvent) {
                window.addEventListener('deviceorientation', handleCompass);
                document.getElementById('compassInfo').innerHTML = 'Ú©Ù…Ù¾Ø§Ø³ ÙØ¹Ø§Ù„ ÛÛ’';
                compassActive = true;
            } else {
                document.getElementById('compassInfo').innerHTML = 'Ú©Ù…Ù¾Ø§Ø³ Ø³Ù¾ÙˆØ±Ù¹ Ù†ÛÛŒÚº ÛÛ’';
            }
        }
        
        function handleCompass(event) {
            if (!compassActive) return;
            
            let alpha = event.alpha; // North direction
            if(alpha !== null) {
                let qiblaAngle = 130.3; // Pakistan's Qibla angle
                
                // Update compass rotation
                document.getElementById('compass').style.transform = `rotate(${-alpha}deg)`;
                
                // Update needles
                document.getElementById('northNeedle').style.transform = `translateX(-50%) rotate(${alpha}deg)`;
                document.getElementById('qiblaNeedle').style.transform = `translateX(-50%) rotate(${qiblaAngle}deg)`;
                
                let diff = Math.abs(qiblaAngle - alpha);
                if(diff < 10) {
                    document.getElementById('compassInfo').innerHTML = 'âœ… Ù‚Ø¨Ù„Û Ø¢Ù¾ Ú©Û’ Ø³Ø§Ù…Ù†Û’ ÛÛ’';
                } else {
                    document.getElementById('compassInfo').innerHTML = `Ø´Ù…Ø§Ù„: ${Math.round(alpha)}Â° â€¢ ÙØ±Ù‚: ${Math.round(diff)}Â°`;
                }
            }
        }
        
        // ==================== PDF FUNCTIONS ====================
        function loadPDF() {
            let fileInput = document.getElementById('pdfFile');
            let file = fileInput.files[0];
            
            if(file) {
                let fileURL = URL.createObjectURL(file);
                document.getElementById('pdfViewer').src = fileURL;
                document.getElementById('pdfViewerContainer').style.display = 'block';
                
                // Save to IndexedDB for offline use
                savePDFToDB(file);
            }
        }
        
        function savePDFToDB(file) {
            let request = indexedDB.open('RamadanApp', 1);
            
            request.onupgradeneeded = function(e) {
                let db = e.target.result;
                if(!db.objectStoreNames.contains('pdfs')) {
                    db.createObjectStore('pdfs', { keyPath: 'name' });
                }
            };
            
            request.onsuccess = function(e) {
                let db = e.target.result;
                let transaction = db.transaction(['pdfs'], 'readwrite');
                let store = transaction.objectStore('pdfs');
                
                let reader = new FileReader();
                reader.onload = function(e) {
                    store.put({
                        name: file.name,
                        data: e.target.result,
                        timestamp: Date.now()
                    });
                };
                reader.readAsDataURL(file);
            };
        }
        
        function loadSavedPDFs() {
            let request = indexedDB.open('RamadanApp', 1);
            
            request.onsuccess = function(e) {
                let db = e.target.result;
                let transaction = db.transaction(['pdfs'], 'readonly');
                let store = transaction.objectStore('pdfs');
                let getAll = store.getAll();
                
                getAll.onsuccess = function() {
                    let pdfs = getAll.result;
                    let html = '';
                    pdfs.forEach(pdf => {
                        html += `
                            <div class="surah-item" onclick="loadOfflinePDF('${pdf.name}')">
                                <i class="fas fa-file-pdf"></i>
                                <span>${pdf.name}</span>
                                <i class="fas fa-download"></i>
                            </div>
                        `;
                    });
                    document.getElementById('savedPDFs').innerHTML = html || 'Ú©ÙˆØ¦ÛŒ PDF Ù…Ø­ÙÙˆØ¸ Ù†ÛÛŒÚº';
                };
            };
        }
        
        function loadOfflinePDF(name) {
            let request = indexedDB.open('RamadanApp', 1);
            
            request.onsuccess = function(e) {
                let db = e.target.result;
                let transaction = db.transaction(['pdfs'], 'readonly');
                let store = transaction.objectStore('pdfs');
                let get = store.get(name);
                
                get.onsuccess = function() {
                    if(get.result) {
                        document.getElementById('pdfViewer').src = get.result.data;
                        document.getElementById('pdfViewerContainer').style.display = 'block';
                    }
                };
            };
        }
        
        // ==================== AUDIO FUNCTIONS ====================
        function loadSurahList() {
            let html = '';
            surahs.forEach(surah => {
                html += `
                    <div class="surah-item" onclick="playSurah('${surah.url}')">
                        <i class="fas fa-play-circle"></i>
                        <span>${surah.name}</span>
                        <i class="fas fa-download" onclick="event.stopPropagation(); downloadSurah('${surah.url}', '${surah.name}')"></i>
                    </div>
                `;
            });
            document.getElementById('surahList').innerHTML = html;
        }
        
        function playSurah(url) {
            let audio = document.getElementById('audioPlayer');
            audio.src = url;
            audio.play();
        }
        
        function downloadSurah(url, name) {
            let a = document.createElement('a');
            a.href = url;
            a.download = name + '.mp3';
            a.click();
        }
        
        function downloadAllSurahs() {
            surahs.forEach((surah, index) => {
                setTimeout(() => {
                    downloadSurah(surah.url, surah.name);
                }, index * 1000);
            });
        }
        
        // ==================== RAMADAN TIMINGS ====================
        function updateTimings() {
            let city = document.getElementById('citySelect').value;
            document.getElementById('sehriTime').innerText = timings[city].sehri + ' AM';
            document.getElementById('iftarTime').innerText = timings[city].iftar + ' PM';
        }
        
        function showFullCalendar() {
            let calendar = '';
            for(let i = 1; i <= 30; i++) {
                calendar += `Ø±ÙˆØ²Û ${i}: 19 ${i} ÙØ±ÙˆØ±ÛŒ ...\n`;
            }
            alert('Ù…Ú©Ù…Ù„ Ú©ÛŒÙ„Ù†ÚˆØ± Ø¬Ù„Ø¯ Ø¢Ù†Û’ ÙˆØ§Ù„Ø§ ÛÛ’');
        }
        
        // ==================== DUAS ====================
        function loadDuaList() {
            let html = '';
            duas.forEach(dua => {
                html += `
                    <div class="dua-card">
                        <div class="dua-arabic">${dua.arabic}</div>
                        <div class="dua-urdu">${dua.urdu}</div>
                    </div>
                `;
            });
            document.getElementById('duaList').innerHTML = html;
        }
        
        // ==================== LIVE COUNTDOWN ====================
        function updateCountdown() {
            let now = new Date();
            let city = document.getElementById('citySelect')?.value || 'lahore';
            let iftarStr = timings[city].iftar;
            
            let [h, m] = iftarStr.split(':');
            let iftarTime = new Date();
            iftarTime.setHours(parseInt(h), parseInt(m), 0);
            
            if(now > iftarTime) {
                iftarTime.setDate(iftarTime.getDate() + 1);
            }
            
            let diff = iftarTime - now;
            let hours = Math.floor(diff / (1000*60*60));
            let mins = Math.floor((diff % (1000*60*60)) / (1000*60));
            let secs = Math.floor((diff % (1000*60)) / 1000);
            
            document.getElementById('countdown').innerText = 
                `${String(hours).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
        }
        
        // ==================== SHARE APP ====================
        function shareApp() {
            if(navigator.share) {
                navigator.share({
                    title: 'Ø±Ù…Ø¶Ø§Ù† Ù…Ú©Ù…Ù„ Ø§ÛŒÙ¾ 2026',
                    text: 'Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ú© Ú©ÛŒ Ù…Ú©Ù…Ù„ Ø§Ø³Ù„Ø§Ù…ÛŒ Ø§ÛŒÙ¾ - ØªØ³Ø¨ÛŒØ­ØŒ Ù‚Ø¨Ù„ÛØŒ Ù‚Ø±Ø¢Ù† PDFØŒ Ø¢ÚˆÛŒÙˆ Ø§ÙˆØ± Ø¯Ø¹Ø§Ø¦ÛŒÚº',
                    url: window.location.href
                });
            } else {
                // Fallback
                let dummy = document.createElement('input');
                dummy.value = window.location.href;
                document.body.appendChild(dummy);
                dummy.select();
                document.execCommand('copy');
                document.body.removeChild(dummy);
                alert('Ù„Ù†Ú© Ú©Ø§Ù¾ÛŒ ÛÙˆ Ú¯ÛŒØ§! Ø§Ø¨ Ø´ÛŒØ¦Ø± Ú©Ø±ÛŒÚº');
            }
        }
        
        function downloadCompleteApp() {
            // Create complete app HTML file with all resources
            let htmlContent = document.documentElement.outerHTML;
            let blob = new Blob([htmlContent], {type: 'text/html'});
            let url = URL.createObjectURL(blob);
            let a = document.createElement('a');
            a.href = url;
            a.download = 'Ramadan_Complete_App.html';
            a.click();
        }
        
        // ==================== INITIALIZATION ====================
        function init() {
            // Update stats
            let now = new Date();
            document.getElementById('currentTime').innerText = 
                `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
            
            // Calculate Ramadan day
            let ramadanStart = new Date(2026, 1, 19);
            let today = new Date();
            let dayDiff = Math.floor((today - ramadanStart) / (1000*60*60*24)) + 1;
            if(dayDiff >= 1 && dayDiff <= 30) {
                document.getElementById('ramadanDay').innerText = dayDiff;
                document.getElementById('hijriDate').innerText = dayDiff;
            }
            
            // Start countdown
            setInterval(updateCountdown, 1000);
            setInterval(() => {
                let now = new Date();
                document.getElementById('currentTime').innerText = 
                    `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
            }, 1000);
            
            // Load saved counter
            loadCounter();
        }
        
        // Start the app
        init();
    </script>
</body>
</html>
