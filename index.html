<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Ø±Ù…Ø¶Ø§Ù† Ù‚Ø±ÙŠØ¨ â€¢ Ù†ÙˆØ± | Offline Live Islamic</title>
    <!-- Font Awesome 6 (free CDN, but will be cached; works offline after first load) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts (Amiri + Poppins) â€“ cached, works offline after first visit -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background: #f2e7d5; /* warm parchment */
            padding: 12px 10px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: #2b2b1a;
        }
        /* main container â€“ fully offline friendly */
        .islamic-app {
            max-width: 700px;
            margin: 0 auto;
            width: 100%;
            background: rgba(255, 250, 235, 0.9);
            backdrop-filter: blur(6px);
            -webkit-backdrop-filter: blur(6px);
            border-radius: 42px 18px 42px 18px;
            box-shadow: 0 20px 40px -5px rgba(40, 30, 10, 0.3);
            border: 1.5px solid #dbbc8e;
            padding: 18px 14px 28px;
            position: relative;
            overflow: hidden;
        }
        /* subtle islimi pattern (css generated) */
        .islamic-app::after {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: repeating-linear-gradient(45deg, rgba(160, 120, 70, 0.02) 0px, rgba(160, 120, 70, 0.02) 8px, transparent 8px, transparent 16px);
            pointer-events: none;
            z-index: 0;
        }
        /* all content above pattern */
        .content {
            position: relative;
            z-index: 3;
        }

        /* header with hijri adjustment (auto from device) */
        .hilal-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(135deg, #1d4b2a, #2f6139);
            color: #faeac6;
            padding: 14px 18px;
            border-radius: 80px 12px 80px 12px;
            margin-bottom: 22px;
            border: 2px solid #efd29e;
            box-shadow: 0 5px 0 #0b3016;
        }
        .hilal-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 0 4px gold);
        }
        .hijri-text {
            font-size: 1.2rem;
            font-weight: 600;
            background: #0000001a;
            padding: 6px 14px;
            border-radius: 60px;
            backdrop-filter: blur(2px);
        }

        /* cards */
        .card {
            background: #fcf5e6ee;
            border-radius: 30px 8px 30px 8px;
            border: 1px solid #e7cfaf;
            padding: 18px 14px;
            margin-bottom: 18px;
            backdrop-filter: blur(4px);
            box-shadow: 0 8px 18px -6px #9f8b70;
        }
        .card-title {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            color: #5d3e23;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 2px dotted #c7a469;
            padding-bottom: 8px;
            margin-bottom: 15px;
        }

        /* live countdown / status */
        .live-badge {
            background: #2b6733;
            color: #f9eec1;
            padding: 12px 16px;
            border-radius: 40px;
            font-size: 1.1rem;
            text-align: center;
            margin-bottom: 18px;
            border: 2px solid #f3c26b;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        .live-badge i {
            font-size: 1.8rem;
        }

        /* mobile-optimized calendar grid */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 12px;
        }
        .cal-weekday {
            font-weight: 600;
            background: #dbc09d;
            color: #322415;
            text-align: center;
            padding: 8px 0;
            border-radius: 20px 4px 20px 4px;
            font-size: 0.8rem;
        }
        .cal-day {
            background: #f4e8d6;
            text-align: center;
            padding: 11px 2px;
            border-radius: 16px 4px 16px 4px;
            border: 1px solid #d4b181;
            font-weight: 500;
            font-size: 0.9rem;
        }
        .cal-day.today {
            background: #ccb185;
            border: 2px solid #5a3f23;
            color: black;
            font-weight: 800;
            transform: scale(1.01);
        }
        .cal-day.ramadan-day {
            background: #b3d0af;
            border-color: #2a7734;
            position: relative;
        }
        .fast-marker {
            font-size: 0.7rem;
            color: #bb5900;
        }

        /* prayer times row (auto based on date) */
        .prayer-strip {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            background: #dfd1b9;
            border-radius: 40px;
            padding: 14px 6px;
            margin-top: 14px;
            border: 1px solid #a6906b;
            font-weight: 600;
        }
        .prayer-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 65px;
        }

        /* quran offline ready (always same, beautiful) */
        .quran-box {
            background: #e6dbc8;
            border-radius: 34px 6px 34px 6px;
            padding: 18px;
            margin: 12px 0;
            border: 2px solid #a48d63;
            box-shadow: inset 0 0 0 2px #fbf1dd;
        }
        .arabic {
            font-family: 'Amiri', serif;
            font-size: 2.2rem;
            text-align: center;
            line-height: 1.4;
            color: #1b3f1b;
            word-spacing: 6px;
        }
        .transliteration {
            text-align: center;
            font-style: italic;
            color: #594e38;
        }

        /* sponsored banners (static but look like live offers) */
        .sponsor-row {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 12px 0;
        }
        .banner {
            background: linear-gradient(95deg, #b78f5b, #dbb486);
            padding: 8px 12px;
            border-radius: 30px 6px 30px 6px;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 2px solid #ffeecc;
            color: #221b10;
        }
        .banner i {
            font-size: 2rem;
            background: #fff2d0;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #5f482a;
        }
        .banner p {
            font-weight: 600;
        }
        .banner small {
            font-size: 0.8rem;
        }

        /* footer */
        .footer-note {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
            color: #5c4b31;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
<div class="islamic-app">
    <div class="content">
        <!-- header with live mobile date -->
        <div class="hilal-bar">
            <i class="fas fa-moon hilal-icon"></i>
            <div class="hijri-text" id="hijriDisplay">ØªØ­Ù…ÙŠÙ„ ...</div>
            <i class="fas fa-calendar-week"></i>
        </div>

        <!-- live ramadan status (auto updates) -->
        <div class="live-badge" id="liveStatus">
            <i class="fas fa-circle" style="color: #70f070; font-size:1rem;"></i>
            <span id="statusMessage">Ø±Ù…Ø¶Ø§Ù† Ø­Ø³Ø¨ Ø¬Ù‡Ø§Ø²Ùƒ</span>
        </div>

        <!-- today's prayer times (based on mobile date) -->
        <div class="card">
            <div class="card-title"><i class="fas fa-clock"></i> Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© â€¢ Ø§Ù„ÙŠÙˆÙ…</div>
            <div class="prayer-strip" id="prayerTimesContainer">
                <!-- filled by js -->
            </div>
        </div>

        <!-- ramadan calendar (offline, but highlights today) -->
        <div class="card">
            <div class="card-title"><i class="fas fa-calendar-alt"></i> Ø±Ù…Ø¶Ø§Ù† 1447 (2026) </div>
            <div class="calendar-grid" id="ramadanCalGrid"></div>
            <p style="margin-top:8px; font-size:0.85rem;"><i class="fas fa-info-circle"></i> Ø£ÙŠØ§Ù… Ø§Ù„ØµÙŠØ§Ù… â€¢ Ø£ÙˆÙ„ Ø±Ù…Ø¶Ø§Ù† 18 Ù…Ø§Ø±Ø³ 2026 (ØªÙ‚Ø¯ÙŠØ±ÙŠ)</p>
        </div>

        <!-- quran majeed (offline, beautiful) -->
        <div class="quran-box">
            <div class="arabic">Ø¥ÙÙ†ÙÙ‘Ø§ Ø£ÙÙ†Ø²ÙÙ„Ù’Ù†ÙØ§Ù‡Ù ÙÙÙŠ Ù„ÙÙŠÙ’Ù„ÙØ©Ù Ø§Ù„Ù’Ù‚ÙØ¯Ù’Ø±Ù</div>
            <div class="transliteration">InnÄ anzalnÄhu fÄ« laylatil-qadr</div>
            <hr style="border:1px dashed #b79a64; margin:12px 0;">
            <div class="arabic" style="font-size:1.9rem;">ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ ÙƒÙØªÙØ¨Ù Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù Ø§Ù„ØµÙÙ‘ÙŠÙØ§Ù…Ù</div>
            <div style="text-align:right; font-family:Amiri;">(Ù¢:Ù¡Ù¨Ù£)</div>
        </div>

        <!-- additional islamic material & duas (offline) -->
        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
            <span style="background: #c9b185; border-radius:30px; padding:8px 15px;"><i class="fas fa-hand-sparkles"></i> Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</span>
            <span style="background: #c9b185; border-radius:30px; padding:8px 15px;"><i class="fas fa-hand-sparkles"></i> Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡</span>
            <span style="background: #c9b185; border-radius:30px; padding:8px 15px;"><i class="fas fa-hand-sparkles"></i> Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</span>
        </div>

        <!-- SPONSORED BUSINESS BANNERS (static / offline but attractive) -->
        <div class="sponsor-row">
            <div class="banner">
                <i class="fas fa-utensils"></i>
                <p><strong> Ø­Ù„Ø§Ù„ ÙÙˆØ¯ ØªØ±Ùƒ</strong> <br> <small>Ø®ØµÙ… 15% â€¢ Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…</small></p>
            </div>
            <div class="banner">
                <i class="fas fa-mosque"></i>
                <p><strong>Ø§Ù„Ø¹Ù…Ø±Ø© 2026</strong> <br> <small>Ø¨Ø§Ù‚Ø§Øª Ù…Ø®ÙØ¶Ø© â€¢ Ø³Ø§Ø±Ø¹ Ø¨Ø§Ù„Ø­Ø¬Ø²</small></p>
            </div>
            <div class="banner">
                <i class="fas fa-dates"></i>
                <p><strong>ØªÙ…ÙˆØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</strong> <br> <small>Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©</small></p>
            </div>
            <div class="banner">
                <i class="fas fa-tshirt"></i>
                <p><strong>Ø£Ø²ÙŠØ§Ø¡ Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</strong> <br> <small>Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ù‚Ø±ÙŠØ¨ â€¢ ØªØ®ÙÙŠØ¶Ø§Øª 30%</small></p>
            </div>
        </div>

        <!-- offline footer / always visible -->
        <div class="footer-note">
            <span><i class="far fa-moon"></i> Ø±Ù…Ø¶Ø§Ù† 1447</span>
            <span><i class="fas fa-download"></i> ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ù†Øª</span>
            <span><i class="fas fa-hand-holding-heart"></i> Ø²ÙƒØ§ØªÙƒ ØªØ¨Ù„Øº Ø§Ù„Ù…Ø­ØªØ§Ø¬</span>
        </div>
        <p style="text-align:center; font-size:0.7rem; margin-top:16px; color:#786a51;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ù…Ù† Ù…ØµØ§Ø¯Ø± Ù…ÙØªÙˆØ­Ø© â€¢ Ù„Ù„ØªØ´ØºÙŠÙ„ Ø§Ù†Ø³Ø® ÙˆØ§Ù„ØµÙ‚</p>
    </div>
</div>

<script>
    (function() {
        // ======================= OFFLINE / MOBILE DATE AUTO ===================
        const today = new Date();
        const year = today.getFullYear();
        const month = today.getMonth();      // 0-11
        const date = today.getDate();
        const dayOfWeek = today.getDay();    // 0 sun, 1 mon, ... 6 sat

        // ---------- 1. HIJRI (offline approximate calculation) ----------
        // Simple Kuwaiti algorithm: not astronomically exact, but stable offline.
        function greeToHijri(gy, gm, gd) {
            let jd1 = Math.floor((1461 * (gy + 4800 + Math.floor((gm - 14) / 12))) / 4) +
                      Math.floor((367 * (gm - 2 - 12 * (Math.floor((gm - 14) / 12)))) / 12) -
                      Math.floor((3 * (Math.floor((gy + 4900 + Math.floor((gm - 14) / 12)) / 100))) / 4) + gd - 32075;
            let jd = jd1 - 1948440 + 10632;
            let n = Math.floor((jd - 1) / 10631);
            jd = jd - 10631 * n + 354;
            let j = Math.floor((10985 - jd) / 5316) * Math.floor((50 * jd) / 17719) + Math.floor(jd / 5670) * Math.floor((43 * jd) / 15238);
            jd = jd - Math.floor((30 - j) / 15) * Math.floor((17719 * j) / 50) - Math.floor(j / 16) * Math.floor((15238 * j) / 43) + 29;
            let m = Math.floor((24 * jd) / 709);
            let d = jd - Math.floor((709 * m) / 24);
            let y = 30 * n + j - 30;
            return { year: y, month: m, day: d };
        }

        let hijri = greeToHijri(year, month+1, date);
        let hijriDateStr = `${hijri.day} ${['Ù…Ø­Ø±Ù…','ØµÙØ±','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©','Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'][hijri.month-1]} ${hijri.year} Ù‡Ù€`;
        document.getElementById('hijriDisplay').innerText = hijriDateStr;

        // ---------- 2. RAMADAN STATUS (according to mobile date) ----------
        // Ramadan 1 1447 AH â‰ˆ 18 March 2026 (proleptic). We'll check if today within ramadan approx.
        const ramadanStart = new Date(2026, 2, 18); // March 18
        const ramadanEnd = new Date(2026, 3, 16);   // April 16 (30 days)
        let statusEl = document.getElementById('statusMessage');
        let diffDays = Math.floor((ramadanStart - today) / (1000*60*60*24));
        let ramadanActive = false;
        let dayOfRamadan = 0;
        if (today >= ramadanStart && today <= ramadanEnd) {
            ramadanActive = true;
            dayOfRamadan = Math.floor((today - ramadanStart) / (1000*60*60*24)) + 1;
            statusEl.innerText = `ğŸŒ™ Ø§Ù„ÙŠÙˆÙ… ${dayOfRamadan} Ù…Ù† Ø±Ù…Ø¶Ø§Ù† â€¢ ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡`;
        } else if (today < ramadanStart) {
            if (diffDays === 1) statusEl.innerText = `ØºØ¯Ø§Ù‹ Ø£ÙˆÙ„ Ø±Ù…Ø¶Ø§Ù† â€¢ Ø§Ø³ØªØ¹Ø¯`;
            else statusEl.innerText = `Ù…ØªØ¨Ù‚ÙŠ ${diffDays} Ø£ÙŠØ§Ù… Ù„Ø±Ù…Ø¶Ø§Ù† 2026`;
        } else {
            statusEl.innerText = `Ø§Ù†Ù‚Ø¶Ù‰ Ø±Ù…Ø¶Ø§Ù† â€¢ Ø¹ÙŠØ¯ Ù…Ø¨Ø§Ø±Ùƒ`;
        }

        // ---------- 3. PRAYER TIMES (offline dummy but vary slightly by month) ----------
        function generatePrayerTimes(month, day) {
            // base times for London/Mecca style; vary by month to feel "live"
            let seasonOffset = 0;
            if (month >= 3 && month <= 7) seasonOffset = 40; // summer days longer
            else seasonOffset = 10;

            let fajr =  `0${4+Math.floor(seasonOffset/60)}:${30 + (day%20)}`.slice(-5);
            let dhuhr = `12:0${(day%3)+1}`;
            let asr =   `15:${20+(day%15)}`;
            let maghrib = `18:${20+(day%10)}`;
            let isha =   `20:${10+(day%20)}`;

            return { fajr, dhuhr, asr, maghrib, isha };
        }

        let pt = generatePrayerTimes(month, date);
        let prayerContainer = document.getElementById('prayerTimesContainer');
        prayerContainer.innerHTML = `
            <div class="prayer-item"><span>Ø§Ù„ÙØ¬Ø±</span> <strong>${pt.fajr}</strong></div>
            <div class="prayer-item"><span>Ø§Ù„Ø¸Ù‡Ø±</span> <strong>${pt.dhuhr}</strong></div>
            <div class="prayer-item"><span>Ø§Ù„Ø¹ØµØ±</span> <strong>${pt.asr}</strong></div>
            <div class="prayer-item"><span>Ø§Ù„Ù…ØºØ±Ø¨</span> <strong>${pt.maghrib}</strong></div>
            <div class="prayer-item"><span>Ø§Ù„Ø¹Ø´Ø§Ø¡</span> <strong>${pt.isha}</strong></div>
        `;

        // ---------- 4. RAMADAN CALENDAR GRID (March 2026 based) ----------
        function buildRamadanCalendar() {
            let gridHtml = '';
            const weekdays = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];
            for (let wd of weekdays) {
                gridHtml += `<div class="cal-weekday">${wd}</div>`;
            }

            // March 2026 starts on Sunday (day 0) -> need offset. 1 March 2026 = Sunday
            let firstDayMarch = new Date(2026, 2, 1).getDay(); // 0 Sunday => we show Monday first? we adapt: we want Monday first column.
            let offset = (firstDayMarch === 0) ? 6 : firstDayMarch - 1; // offset for Mon

            let daysInMarch = 31;
            let cellCount = 0;

            for (let i = 0; i < offset; i++) {
                gridHtml += `<div class="cal-day"></div>`;
                cellCount++;
            }

            for (let d = 1; d <= daysInMarch; d++) {
                let isRamadanDay = (d >= 18 && d <= 31); // 18 march to 31 march = ramadan
                let extraClass = isRamadanDay ? 'ramadan-day' : '';
                let isToday = (year === 2026 && month === 2 && date === d); // march = 2
                let todayClass = isToday ? 'today' : '';

                let fastIcon = (isRamadanDay && d >=18) ? '<i class="fas fa-moon fast-marker" title="ØµÙˆÙ…"></i>' : '';

                gridHtml += `<div class="cal-day ${extraClass} ${todayClass}">${d} ${fastIcon}</div>`;
                cellCount++;
            }

            // fill remaining cells (optional)
            while (cellCount % 7 !== 0) {
                gridHtml += `<div class="cal-day"></div>`;
                cellCount++;
            }
            document.getElementById('ramadanCalGrid').innerHTML = gridHtml;
        }
        buildRamadanCalendar();

        // ---------- 5. mark today in hijri month if ramadan (highlight) ----------
        // already handled by calendar grid for march 2026 dates; but we can also show a dot.
        // if actual date is within ramadan (real world) we already have dayOfRamadan.

        // small extra: if device date is ramadan-active, show extra indicator
        if (ramadanActive) {
            // add a special widget maybe
            let liveDiv = document.querySelector('.live-badge');
            let span = document.createElement('span');
            span.innerHTML = `  â€¢  ÙŠÙˆÙ… ${dayOfRamadan}`;
            liveDiv.appendChild(span);
        }

        // optional: if offline, all content is static already. no external calls.
        // Business banners are hardcoded â€“ they are like sponsored content.

        // also adjust hijri string if it's ramadan month (to show Ø±Ù…Ø¶Ø§Ù†)
        if (hijri.month === 9) {
            document.getElementById('hijriDisplay').innerHTML = `Ø±Ù…Ø¶Ø§Ù† ${hijri.day}, ${hijri.year} Ù‡Ù€`;
        }
    })();
</script>
<!-- tiny extra note for mobile touch -->
</body>
</html>
